(function(e) {
    function t(e) {
        if (e == 6e4) {
            var t = new Date;
            e = 6e4 - t.getSeconds() * 1e3
        }
        return e
    }
    e.fn.jclock = function(t) {
        var n = "2.3.2";
        var r = e.extend({}, e.fn.jclock.defaults, t);
        return this.each(function() {
            $this = e(this);
            $this.timerID = null;
            $this.running = false;
            $this.increment = 0;
            $this.lastCalled = (new Date).getTime();
            var t = e.meta ? e.extend({}, r, $this.data()) : r;
            $this.format = t.format;
            $this.utc = t.utc;
            $this.utcOffset = t.utc_offset != null ? t.utc_offset : t.utcOffset;
            $this.seedTime = t.seedTime;
            $this.timeout = t.timeout;
            $this.css({
                fontFamily: t.fontFamily,
                fontSize: t.fontSize,
                backgroundColor: t.background,
                color: t.foreground
            });
            $this.daysAbbrvNames = new Array(7);
            $this.daysAbbrvNames[0] = "Sun";
            $this.daysAbbrvNames[1] = "Mon";
            $this.daysAbbrvNames[2] = "Tue";
            $this.daysAbbrvNames[3] = "Wed";
            $this.daysAbbrvNames[4] = "Thu";
            $this.daysAbbrvNames[5] = "Fri";
            $this.daysAbbrvNames[6] = "Sat";
            $this.daysFullNames = new Array(7);
            $this.daysFullNames[0] = "Sunday";
            $this.daysFullNames[1] = "Monday";
            $this.daysFullNames[2] = "Tuesday";
            $this.daysFullNames[3] = "Wednesday";
            $this.daysFullNames[4] = "Thursday";
            $this.daysFullNames[5] = "Friday";
            $this.daysFullNames[6] = "Saturday";
            $this.monthsAbbrvNames = new Array(12);
            $this.monthsAbbrvNames[0] = "Jan";
            $this.monthsAbbrvNames[1] = "Feb";
            $this.monthsAbbrvNames[2] = "Mar";
            $this.monthsAbbrvNames[3] = "Apr";
            $this.monthsAbbrvNames[4] = "May";
            $this.monthsAbbrvNames[5] = "Jun";
            $this.monthsAbbrvNames[6] = "Jul";
            $this.monthsAbbrvNames[7] = "Aug";
            $this.monthsAbbrvNames[8] = "Sep";
            $this.monthsAbbrvNames[9] = "Oct";
            $this.monthsAbbrvNames[10] = "Nov";
            $this.monthsAbbrvNames[11] = "Dec";
            $this.monthsFullNames = new Array(12);
            $this.monthsFullNames[0] = "January";
            $this.monthsFullNames[1] = "February";
            $this.monthsFullNames[2] = "March";
            $this.monthsFullNames[3] = "April";
            $this.monthsFullNames[4] = "May";
            $this.monthsFullNames[5] = "June";
            $this.monthsFullNames[6] = "July";
            $this.monthsFullNames[7] = "August";
            $this.monthsFullNames[8] = "September";
            $this.monthsFullNames[9] = "October";
            $this.monthsFullNames[10] = "November";
            $this.monthsFullNames[11] = "December";
            e.fn.jclock.startClock($this)
        })
    };
    e.fn.jclock.startClock = function(t) {
        e.fn.jclock.stopClock(t);
        e.fn.jclock.displayTime(t)
    };
    e.fn.jclock.stopClock = function(e) {
        if (e.running) {
            clearTimeout(e.timerID)
        }
        e.running = false
    };
    e.fn.jclock.displayTime = function(n) {
        var r = e.fn.jclock.currentTime(n);
        var i = e.fn.jclock.formatTime(r, n);
        n.attr("currentTime", r.getTime());
        n.html(i);
        n.timerID = setTimeout(function() {
            e.fn.jclock.displayTime(n)
        }, t(n.timeout))
    };
    e.fn.jclock.currentTime = function(e) {
        if (typeof e.seedTime == "undefined") {
            var t = new Date
        } else {
            e.increment += (new Date).getTime() - e.lastCalled;
            var t = new Date(e.seedTime + e.increment);
            e.lastCalled = (new Date).getTime()
        }
        if (e.utc == true) {
            var n = t.getTime();
            var r = t.getTimezoneOffset() * 6e4;
            var i = n + r;
            var s = i + 36e5 * e.utcOffset;
            var t = new Date(s)
        }
        return t
    };
    e.fn.jclock.formatTime = function(t, n) {
        var r = "";
        var i = 0;
        var s = 0;
        while ((s = n.format.indexOf("%", i)) != -1) {
            r += n.format.substring(i, s);
            s++;
            var o = e.fn.jclock.getProperty(t, n, n.format.charAt(s));
            s++;
            r += o;
            i = s
        }
        r += n.format.substring(i);
        return r
    };
    e.fn.jclock.getProperty = function(e, t, n) {
        switch (n) {
            case "a":
                return t.daysAbbrvNames[e.getDay()];
            case "A":
                return t.daysFullNames[e.getDay()];
            case "b":
                return t.monthsAbbrvNames[e.getMonth()];
            case "B":
                return t.monthsFullNames[e.getMonth()];
            case "d":
                return (e.getDate() < 10 ? "0" : "") + e.getDate();
            case "H":
                return (e.getHours() < 10 ? "0" : "") + e.getHours();
            case "I":
                var r = e.getHours() % 12 || 12;
                return (r < 10 ? "0" : "") + r;
            case "l":
                var r = e.getHours() % 12 || 12;
                return r;
            case "m":
                return (e.getMonth() + 1 < 10 ? "0" : "") + (e.getMonth() + 1);
            case "M":
                return (e.getMinutes() < 10 ? "0" : "") + e.getMinutes();
            case "p":
                return e.getHours() < 12 ? "am" : "pm";
            case "P":
                return e.getHours() < 12 ? "AM" : "PM";
            case "S":
                return (e.getSeconds() < 10 ? "0" : "") + e.getSeconds();
            case "y":
                return e.getFullYear().toString().substring(2);
            case "Y":
                return e.getFullYear();
            case "%":
                return "%"
        }
    };
    e.fn.jclock.defaults = {
        format: "%H:%M:%S",
        utcOffset: 0,
        utc: false,
        fontFamily: "",
        fontSize: "",
        foreground: "",
        background: "",
        seedTime: undefined,
        timeout: 1e3
    }
})(jQuery)